/project/cmcwhite/data/protein_complexes_plant/scripts/prcurve_overlay.py

This is an example of a command to run it - I left in the long paths so you can see each file format
python  /project/cmcwhite/data/protein_complexes_plant/scripts/prcurve_overlay.py --results_wprob training/unscaled_top100/allplants_feature_matrix_missing1.unscaled.top100.edges --input_positives /project/cmcwhite/data/gold_standards/new_translation_newproteomes/allComplexesCore_photo_euktovirNOG_expansion_merged09_size30_rmLrg_outsidesupport.train_ppis.txt.ordered /project/cmcwhite/data/gold_standards/new_translation_newproteomes/allComplexesCore_photo_euktovirNOG_expansion_merged09_size30_rmLrg_outsidesupport.test_ppis.txt.ordered --input_negatives /project/cmcwhite/data/gold_standards/new_translation_newproteomes/allplants.labels.filt.negtrain.20k_a /project/cmcwhite/data/gold_standards/new_translation_newproteomes/allplants.labels.filt.negtest.20k_a  --output_file prcurves/allplants_top100_train_test_pr --labels Train Test

python prcurve_overlay.py --results_wprob ../humap/results_50step/results_50step_isa_best/res_pred_edges_list_inKnown.out --input_positives ../humap/results_50step/results_50step_isa_best/res_known_edges_list.out --output_file ../humap/results_50step/results_50step_isa_best/pr_curve_res
python prcurve_overlay.py --results_wprob ../humap/results_50step/results_50step_isa_best/res_pred_edges_list_inKnown.out --input_positives ../humap/results_50step/results_50step_isa_best/res_known_edges_list.out --input_negatives ../humap/results_50step/results_50step_isa_best/res_neg_comp_edges_list_fin.out --output_file ../humap/results_50step/results_50step_isa_best/pr_curve_res --labels All

To plot in R:

pr_data <- read_csv("prcurves/allplants_top100_train_test_pr.csv")

pr_data_test <- pr_data %>% filter(label == "Test")

pr_plot <- ggplot(pr_data_test)  +
    geom_line(size = 1.5, alpha = 0.8, color = palette[2], aes( x= Recall, y = Precision)) +
    #geom_text(x = 0.5, y = 0.5, label = "891 withheld\n interactions") + #4114 interactions") + where did 4114 come from? 
    #background_grid(major = "xy", minor = "none", colour.major = "grey80") +
    theme(axis.text.x = element_text(angle = 45, vjust=1, hjust=1) ,
          legend.key.width = unit(0.7, "cm"),
          legend.justification = 'right', legend.position=c(0.65,0.2)) +
    scale_x_continuous(expand = c(0,0)) +
    scale_y_continuous(expand = c(0,0)) +
    NULL
          
        
ggsave("figures/pr_plot.png", pr_plot,  device = "png", height = 2, width = 2, units = "in")
ggsave("figures/pr_plot.pdf", pr_plot,  device = "pdf",  height = 2, width = 2, units = "in")
